{"version":3,"file":"static/js/74.a9a7f382.chunk.js","mappings":"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","sources":["../node_modules/@mui/icons-material/esm/DeliveryDining.js","../node_modules/@mui/icons-material/esm/DeliveryDiningOutlined.js","../node_modules/@mui/icons-material/esm/RestaurantMenu.js","../node_modules/@mui/icons-material/esm/RestaurantMenuOutlined.js","views/card/card.jsx"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon([/*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 7c0-1.1-.9-2-2-2h-3v2h3v2.65L13.52 14H10V9H6c-2.21 0-4 1.79-4 4v3h2c0 1.66 1.34 3 3 3s3-1.34 3-3h4.48L19 10.35zM7 17c-.55 0-1-.45-1-1h2c0 .55-.45 1-1 1\"\n}, \"0\"), /*#__PURE__*/_jsx(\"path\", {\n  d: \"M5 6h5v2H5zm14 7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3m0 4c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1\"\n}, \"1\")], 'DeliveryDining');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon([/*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 7c0-1.1-.9-2-2-2h-3v2h3v2.65L13.52 14H10V9H6c-2.21 0-4 1.79-4 4v3h2c0 1.66 1.34 3 3 3s3-1.34 3-3h4.48L19 10.35zM4 14v-1c0-1.1.9-2 2-2h2v3zm3 3c-.55 0-1-.45-1-1h2c0 .55-.45 1-1 1\"\n}, \"0\"), /*#__PURE__*/_jsx(\"path\", {\n  d: \"M5 6h5v2H5zm14 7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3m0 4c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1\"\n}, \"1\")], 'DeliveryDiningOutlined');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"m8.1 13.34 2.83-2.83L3.91 3.5c-1.56 1.56-1.56 4.09 0 5.66zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13z\"\n}), 'RestaurantMenu');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"m8.1 13.34 2.83-2.83L3.91 3.5c-1.56 1.56-1.56 4.09 0 5.66zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13z\"\n}), 'RestaurantMenuOutlined');","import React, { useState, useEffect } from 'react';\nimport { FavoriteBorder, Favorite, DeliveryDining, DeliveryDiningOutlined,RestaurantMenu, RestaurantMenuOutlined } from '@mui/icons-material';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faMapMarkerAlt, faMotorcycle,faUtensils } from '@fortawesome/free-solid-svg-icons';\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport './card.css';\nimport AxiosRequest from '../../Components/AxiosRequest';\nimport { useNavigate } from 'react-router-dom';\nimport { Avatar } from '@mui/material';\nimport { useCallback } from 'react';\nimport Discount from '../../assets/coupon.png'\n\nconst Status = ({ status }) => {\n  let backgroundColor;\n  let statusText;\n\n  switch (status) {\n    case 'open':\n      backgroundColor = 'green';\n      statusText = 'مفتوح';\n      break;\n    case 'busy':\n      backgroundColor = 'orange';\n      statusText = 'مشغول';\n      break;\n    case 'closed':\n      backgroundColor = 'red';\n      statusText = 'مغلق';\n      break;\n    default:\n      backgroundColor = 'gray';\n      statusText = 'Unknown';\n  }\n\n  const statusStyle = {\n    backgroundColor,\n    color: '#fff',\n    padding: '6px 12px',\n    borderRadius: '6px',\n    textTransform: 'uppercase',\n    fontWeight: 'bold',\n    fontSize: '14px',\n  };\n  return (\n    <div style={statusStyle}>\n      <span style={{ color: '#fff', fontWeight: 'bold' }}>{statusText}</span>\n    </div>\n  );\n};\n\nexport default function Card({ product }) {\n  const { picture, status, restaurantName,_id, location, availableOptions } = product;\n  const [isFavorite, setIsFavorite] = useState(false);\n  const [isAddingToFavorites, setIsAddingToFavorites] = useState(false);\n  const [isRemovingFromFavorites, setIsRemovingFromFavorites] = useState(false);\n  const [hasCoupon, setHasCoupon] = useState(false); // State to check for coupons\n  const id = localStorage.getItem('id');\n  const navigate = useNavigate();\n\n  const fetchFavorites = useCallback(async () => {\n    try {\n      const response = await AxiosRequest.get(`/favorites/${id}`);\n      const favorites = response.data.map(favorite => favorite.restaurantName);\n      setIsFavorite(favorites.includes(restaurantName));\n    } catch (error) {\n      console.error('Error fetching favorites:', error);\n    }\n  }, [restaurantName, id]);\n\n  const fetchCoupons = useCallback(async () => {\n    try {\n      const response = await AxiosRequest.get(`/coupon/coupons`); // Ensure the correct endpoint\n      const coupons = response.data;\n      const couponAvailable = coupons.some(coupon => coupon.restaurant._id === _id); // Adjust as needed\n      setHasCoupon(couponAvailable);\n    } catch (error) {\n      console.error('Error fetching coupons:', error);\n    }\n  }, [_id]);\n\n  // Use the memoized function in useEffect\n  useEffect(() => {\n    fetchFavorites();\n    fetchCoupons();\n  }, [fetchFavorites, fetchCoupons]);\n\n  const addToFavorites = async () => {\n    try {\n      setIsAddingToFavorites(true);\n      const response = await AxiosRequest.post(`/add-to-favorites/${id}`, { restaurantName });\n      setIsFavorite(true);\n      if (response.status === 201) {\n        toast.success(<div style={{direction:'rtl'}}>تمّ اضافة المتجر الى المفضلة</div>);\n      }\n    } catch (error) {\n      console.error('Error adding restaurant to favorites:', error);\n      toast.error('Failed to add restaurant to favorites');\n    } finally {\n      setIsAddingToFavorites(false);\n    }\n  };\n\n  const removeFromFavorites = async () => {\n    try {\n      setIsRemovingFromFavorites(true);\n      const response = await AxiosRequest.delete(`/remove-from-favorites/${id}`, { data: { restaurantName } });\n      setIsFavorite(false);\n      if (response.status === 201) {\n        toast.success(<div style={{direction:'rtl'}}>تم حذف المتجر من المفضلة</div>);\n      }\n    } catch (error) {\n      console.error('Error removing restaurant from favorites:', error);\n      toast.error('Failed to remove restaurant from favorites');\n    } finally {\n      setIsRemovingFromFavorites(false);\n    }\n  };\n\n  const handleShowCategories = () => {\n    navigate(`/categories/${restaurantName}`, { state: { resName: restaurantName } });\n  };\n\n  const handleUpdateHours = () => {\n    navigate(`/update-opening-hours/${restaurantName}`, { state: { resName: restaurantName } });\n  };\n\n  const handleEdit = () => {\n    navigate(`/edit/${restaurantName}`, { state: { resName: restaurantName } });\n  };\n\n  const handleDelete = async () => {\n    const confirmed = window.confirm('Are you sure you want to delete this restaurant?');\n\n    if (confirmed) {\n      try {\n        await AxiosRequest.delete(`/delete-restaurant/${restaurantName}`);\n        toast.success('Restaurant deleted successfully');\n        window.location.reload();\n      } catch (error) {\n        console.error('Error deleting restaurant:', error);\n        toast.error('Failed to delete restaurant');\n      }\n    } else {\n      console.log('Deletion canceled.');\n    }\n  };\n\n  const handleStatus = async (newStatus) => {\n    try {\n      toast.info(`Setting Status To ${newStatus}`);\n      setTimeout(async () => {\n        await AxiosRequest.put(`/change-restaurant-status/${restaurantName}/${newStatus}`);\n        toast.success(`Status Set To ${newStatus} Successfully`);\n        window.location.reload();\n      }, 2000);\n    } catch (err) {\n      console.error(`Error Setting Status To ${newStatus} `, err);\n      toast.error(`Failed to set status to ${newStatus}`);\n    }\n  };\n\n  const handleUpdateDelivery = async (isDeliveryAvailable) => {\n    try {\n      toast.info(`Updating Delivery Availability`);\n      const response = await AxiosRequest.put(`/update-available-options/${restaurantName}`, {\n        availableOptions: {\n          ...availableOptions,\n          delivery: isDeliveryAvailable,\n        },\n      });\n      if (response.status === 200) {\n        toast.success('Delivery availability updated successfully');\n        window.location.reload(); // Reload to reflect changes\n      }\n    } catch (error) {\n      console.error('Error updating delivery availability:', error);\n      toast.error('Failed to update delivery availability');\n    }\n  };\n\n  const handleUpdateDineIn = async (isDineInAvailable) => {\n    try {\n      toast.info(`Updating Dine-in Availability`);\n      const response = await AxiosRequest.put(`/update-available-options/${restaurantName}`, {\n        availableOptions: {\n          ...availableOptions,\n          'dine-in': isDineInAvailable,\n        },\n      });\n      if (response.status === 200) {\n        toast.success('Dine-in availability updated successfully');\n        window.location.reload(); // Reload to reflect changes\n      }\n    } catch (error) {\n      console.error('Error updating dine-in availability:', error);\n      toast.error('Failed to update dine-in availability');\n    }\n  };\n\n  const isAdmin = localStorage.getItem('isAdmin') === 'true';\n  const isOwner = localStorage.getItem('isOwner') === 'true';\n  const isClient = localStorage.getItem('isClient') === 'true';\n\n  return (\n    <div className=\"relative flex bg-white rounded-xl items-center justify-center shadow-lg mt-4\">\n      <div className=\"max-w-md\">\n        <div className=\"grid\">\n          <img  onClick={handleShowCategories} loading='lazy' className=\"object-cover w-screen md:h-40 h-30 hover:cursor-pointer\" src={picture} alt={restaurantName} />\n          {isClient && (\n            <>\n            <div className=\"absolute top-2 right-2\">\n              <span onClick={isFavorite ? removeFromFavorites : addToFavorites} className=\"cursor-pointer\">\n                {isFavorite ? <Favorite className=\"text-red-500\" /> : <FavoriteBorder className=\"text-gray-500\" />}\n              </span>\n            </div>\n            </>\n          )}\n          {(!isAdmin && !isOwner)&&(\n            <>\n           {hasCoupon && (\n            <div className=\"absolute top-2 left-2\">\n                <img src={Discount}  alt=\"Discount\" />\n            </div>\n          )}\n          </>\n          )}\n           {(isOwner || isAdmin) && (  \n            <>       \n  <div className=\"absolute top-2 right-2\">\n        <Avatar onClick={() => handleUpdateDelivery(!availableOptions['delivery'])} className='cursor-pointer' sx={{ bgcolor:'white',width: 32, height: 32 }}>\n        {availableOptions['delivery'] ? (\n      <DeliveryDining sx={{color:'green'}} />\n    ) : (\n      <DeliveryDiningOutlined sx={{color:'red'}}/>\n    )}\n    </Avatar>\n  </div>\n  \n  <div className=\"absolute top-12 right-2\">\n    <Avatar onClick={() => handleUpdateDineIn(!availableOptions['dine-in'])} className='cursor-pointer' sx={{ bgcolor:'white',width: 32, height: 32 }}>\n    {availableOptions['dine-in'] ? (\n      <RestaurantMenu sx={{color:'green'}} />\n    ) : (\n      <RestaurantMenuOutlined sx={{color:'red'}} />\n    )}\n    </Avatar>\n  </div>\n  </>\n           )}\n  </div>\n\n        <div className=\"flex flex-col justify-start items-center p-4\">\n          <div className=\"uppercase tracking-wide text-sm text-indigo-500 font-semibold mt-2\">{restaurantName}</div>\n          <div className=\"mt-2 mb-2 flex items-center text-sm font-bold text-gray-800\">\n            <FontAwesomeIcon icon={faMapMarkerAlt} className=\"mr-1\" />\n            <span>{location}</span>\n          </div>\n          <Status status={status} />\n          <div className=\"flex flex-wrap items-center justify-center\">\n            <button className=\"btn mt-2\" onClick={handleShowCategories}>عرض الفئات</button>\n            {isAdmin && (\n              <>\n                <button className=\"btn mt-2\" onClick={handleEdit}>تعديل</button>\n                <button className=\"btn mt-2\" onClick={handleDelete}>حذف</button>\n                <button className=\"mt-2 bg-green-500 hover:bg-green-700 text-white font-bold py-2 w-full rounded\" onClick={() => handleStatus('open')}>مفتوح</button>\n                <button className=\"mt-2 bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 w-full rounded\" onClick={() => handleStatus('busy')}>مشغول</button>\n                <button className=\"mt-2 bg-red-500 hover:bg-red-700 text-white font-bold py-2 w-full rounded\" onClick={() => handleStatus('closed')}>مغلق</button>\n                <button className=\"btn mt-2\" onClick={handleUpdateHours}>تحديث ساعات العمل</button>\n              </>\n            )}\n            {isOwner && (\n              <>\n                <button className=\"btn mt-2\" onClick={handleEdit}>تعديل</button>\n                <button className=\"mt-2  bg-green-500 hover:bg-green-700 text-white font-bold py-2 w-full rounded\" onClick={() => handleStatus('open')}>مفتوح</button>\n                <button className=\"mt-2 bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 w-full rounded\" onClick={() => handleStatus('busy')}>مشغول</button>\n                <button className=\"mt-2 bg-red-500 hover:bg-red-700 text-white font-bold py-2 w-full rounded\" onClick={() => handleStatus('closed')}>مغلق</button>\n                <button className=\"btn mt-2\" onClick={handleUpdateHours}>تحديث ساعات العمل</button>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["createSvgIcon","_jsx","d","Status","_ref","backgroundColor","statusText","status","statusStyle","color","padding","borderRadius","textTransform","fontWeight","fontSize","style","children","Card","_ref2","product","picture","restaurantName","_id","location","availableOptions","isFavorite","setIsFavorite","useState","isAddingToFavorites","setIsAddingToFavorites","isRemovingFromFavorites","setIsRemovingFromFavorites","hasCoupon","setHasCoupon","id","localStorage","getItem","navigate","useNavigate","fetchFavorites","useCallback","async","favorites","AxiosRequest","get","concat","data","map","favorite","includes","error","console","fetchCoupons","response","couponAvailable","some","coupon","restaurant","useEffect","handleShowCategories","state","resName","handleUpdateHours","handleEdit","handleStatus","toast","info","newStatus","setTimeout","put","success","window","reload","err","isAdmin","isOwner","isClient","className","_jsxs","onClick","loading","src","alt","_Fragment","delete","direction","post","Favorite","FavoriteBorder","Discount","Avatar","delivery","isDeliveryAvailable","handleUpdateDelivery","sx","bgcolor","width","height","DeliveryDining","DeliveryDiningOutlined","isDineInAvailable","handleUpdateDineIn","RestaurantMenu","RestaurantMenuOutlined","FontAwesomeIcon","icon","faMapMarkerAlt","confirm","log"],"sourceRoot":""}